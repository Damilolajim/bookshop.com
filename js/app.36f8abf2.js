(function(){var e={2304:function(e,t,o){"use strict";var r=o(5130),n=o(6768);const a={class:"body"},s={class:"container"},i={class:"courses"},c={class:"course__filter"};function l(e,t,o,r,l,u){const d=(0,n.g2)("bannerComp"),p=(0,n.g2)("navbarComp"),m=(0,n.g2)("filterItem"),f=(0,n.g2)("courseComp"),g=(0,n.g2)("cartComp");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.bF)(d,{title:"Bookshop.com"}),(0,n.bF)(p,{active:l.currentView,onNavigate:u.changeView},null,8,["active","onNavigate"]),(0,n.Lk)("div",s,[(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[(0,n.bF)(m,{onSortCourses:u.sortCourses},null,8,["onSortCourses"])]),"home"===l.currentView?((0,n.uX)(),(0,n.Wv)(f,{key:0,updatedCourse:l.updatedCourses},null,8,["updatedCourse"])):(0,n.Q3)("",!0),"cart"===l.currentView?((0,n.uX)(),(0,n.Wv)(g,{key:1})):(0,n.Q3)("",!0)])])])}const u={class:"filterItem"},d={class:"filterItem__listing"},p={class:"filterItem__listing"};function m(e,t,o,r,a,s){return(0,n.uX)(),(0,n.CE)("div",u,[t[14]||(t[14]=(0,n.Lk)("h2",null,"Sort by",-1)),(0,n.Lk)("ul",d,[(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[0]||(t[0]=e=>s.setField(""))},t[7]||(t[7]=[(0,n.Lk)("input",{type:"radio",name:"sort-field"},null,-1),(0,n.Lk)("span",null,"All",-1)])),(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[1]||(t[1]=e=>s.setField("subject"))},t[8]||(t[8]=[(0,n.Lk)("input",{type:"radio",name:"sort-field",value:"school"},null,-1),(0,n.Lk)("span",null,"Subject",-1)])),(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[2]||(t[2]=e=>s.setField("location"))},t[9]||(t[9]=[(0,n.Lk)("input",{type:"radio",name:"sort-field",value:"location"},null,-1),(0,n.Lk)("span",null,"Location",-1)])),(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[3]||(t[3]=e=>s.setField("price"))},t[10]||(t[10]=[(0,n.Lk)("input",{type:"radio",name:"sort-field",value:"price"},null,-1),(0,n.Lk)("span",null,"Price",-1)])),(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[4]||(t[4]=e=>s.setField("availability"))},t[11]||(t[11]=[(0,n.Lk)("input",{type:"radio",name:"sort-field",value:"availability"},null,-1),(0,n.Lk)("span",null,"Availability",-1)]))]),(0,n.Lk)("ul",p,[(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[5]||(t[5]=e=>s.setOrder("asc"))},t[12]||(t[12]=[(0,n.Lk)("input",{type:"radio",name:"sort-order",value:"asc"},null,-1),(0,n.Lk)("span",null,"Ascending",-1)])),(0,n.Lk)("li",{class:"filterItem__listItem",onClick:t[6]||(t[6]=e=>s.setOrder("desc"))},t[13]||(t[13]=[(0,n.Lk)("input",{type:"radio",name:"sort-order",value:"desc"},null,-1),(0,n.Lk)("span",null,"Descending",-1)]))])])}var f={name:"filterItem",data(){return{loading:!0,localField:this.field||"",localOrder:this.order}},props:{field:{type:String,default:""},order:{type:String,default:"asc"}},methods:{setField(e){this.localField=e,this.sortCourses()},setOrder(e){this.localOrder=e,this.sortCourses()},sortCourses(){this.$emit("sortCourses",{loading:!1,sort:this.localField,order:this.localOrder})}}},g=o(1241);const h=(0,g.A)(f,[["render",m],["__scopeId","data-v-6504e4fb"]]);var v=h,C=o(4232);const b={class:"bannerComp"};function _(e,t,o,r,a,s){return(0,n.uX)(),(0,n.CE)("div",b,(0,C.v_)(o.title),1)}var k={name:"bannerComp",props:{title:String}};const y=(0,g.A)(k,[["render",_],["__scopeId","data-v-1ee6a561"]]);var I=y;const L={class:"navbar"},j={class:"container"},w={class:"navbar__wrap"},O={class:"navbar__item"},E={class:"navbar__item"};function $(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("nav",L,[(0,n.Lk)("div",j,[(0,n.Lk)("ul",w,[(0,n.Lk)("li",O,[(0,n.Lk)("a",{href:"#",class:(0,C.C4)(i.getClassName("home")),onClick:t[0]||(t[0]=(0,r.D$)((e=>i.navigate("home")),["prevent"]))},"Home",2)]),(0,n.Lk)("li",E,[(0,n.Lk)("a",{href:"#",class:(0,C.C4)(i.getClassName("cart")),onClick:t[1]||(t[1]=(0,r.D$)((e=>i.navigate("cart")),["prevent"]))},"Cart",2)])])])])}var S={name:"navbarComp",props:{active:{type:String,default:"home"}},methods:{getClassName(e){return"navbar__link "+(this.active===e?"active":"")},navigate(e){this.$emit("navigate",e)}}};const N=(0,g.A)(S,[["render",$],["__scopeId","data-v-063b9c36"]]);var F=N;const A={class:"course__listing"},X={class:"not-found"},T={class:"not-found"},P={key:0,class:"course__wrap"};function x(e,t,o,a,s,i){const c=(0,n.g2)("courseItem");return(0,n.uX)(),(0,n.CE)("div",A,[(0,n.bo)((0,n.Lk)("div",X,"loading...",512),[[r.aG,s.loading]]),(0,n.bo)((0,n.Lk)("div",T," Your Cart is empty ",512),[[r.aG,!s.loading&&!s.courses?.length]]),!s.loading&&s.courses?.length?((0,n.uX)(),(0,n.CE)("div",P,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.courses,((e,t)=>((0,n.uX)(),(0,n.Wv)(c,{_carts:s.carts,key:e._id,data:e,path:s.images[t],cartComponent:s.isCartComponent,onUpdateCart:i.getCarts},null,8,["_carts","data","path","cartComponent","onUpdateCart"])))),128))])):(0,n.Q3)("",!0)])}o(4114),o(1454);const D={class:"courseItem"},W={class:"couseItem__imgWrap"},M=["src"],U={class:"courseItem__main"},V={class:"courseItem__listing"},Q={class:"courseItem__listItem"},B={class:"courseItem__listItem"},G={class:"courseItem__listItem"},q={class:"courseItem__listItem"};function K(e,t,o,a,s,i){const c=(0,n.g2)("buttonItem");return(0,n.uX)(),(0,n.CE)("div",D,[(0,n.Lk)("div",W,[((0,n.uX)(),(0,n.CE)("img",{key:Math.ceil(1e3*Math.random()),src:o.path,alt:"course image"},null,8,M))]),(0,n.Lk)("div",U,[(0,n.Lk)("ul",V,[(0,n.Lk)("li",Q,[t[1]||(t[1]=(0,n.Lk)("span",{class:"bold"},"Subject:",-1)),(0,n.eW)(" "+(0,C.v_)(o.data.subject),1)]),(0,n.Lk)("li",B,[t[2]||(t[2]=(0,n.Lk)("span",{class:"bold"},"Location:",-1)),(0,n.eW)(" "+(0,C.v_)(o.data.location),1)]),(0,n.Lk)("li",G,[t[3]||(t[3]=(0,n.Lk)("span",{class:"bold"},"Price:",-1)),(0,n.eW)(" "+(0,C.v_)(o.data.price),1)]),(0,n.Lk)("li",q,[t[4]||(t[4]=(0,n.Lk)("span",{class:"bold"},"Spaces:",-1)),(0,n.eW)(" "+(0,C.v_)(o.data.spaces),1)])])]),(0,n.bF)(c,{link:"#",className:"btn__primary",text:i.getCartItem(o.data._id)?"Remove":"Add to Cart",onClick:t[0]||(t[0]=(0,r.D$)((e=>i.getCartItem(o.data._id)?i.deleteCartItem(o.data._id):i.addToCart(o.data._id)),["prevent"]))},null,8,["text"])])}const Y=["href"];function H(e,t,o,r,a,s){return(0,n.uX)(),(0,n.CE)("a",{class:(0,C.C4)(s.getClassName()),href:o.link},(0,C.v_)(o.text),11,Y)}var J={name:"buttonItem",props:{text:String,className:String,link:String},methods:{getClassName(){return`btn btn__block ${this.className}`}}};const R=(0,g.A)(J,[["render",H],["__scopeId","data-v-209d330c"]]);var z=R,Z={name:"courseItem",data(){return{loading:!0,isCartComponent:this.cartComponent,carts:this._carts,cartIDs:[]}},props:{_carts:Object,path:String,cartComponent:Boolean,data:{_id:String,subject:String,location:String,price:Number,spaces:Number}},components:{buttonItem:z},methods:{addToCart(e){this.loading=!0;const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course_id:e,quantity:1})};fetch("https://api-bookshop-com.onrender.com/v1/carts",t).then((async e=>{const t=await e.json();console.log(t),this.$emit("update-course",!1)})).catch((e=>{console.error(`Error adding course to cart: ${e}`)})).finally((()=>this.loading=!1))},deleteCartItem(e){this.loading=!0;const t={method:"DELETE",headers:{"Content-Type":"application/json"}};fetch(`https://api-bookshop-com.onrender.com/v1/carts/${e}`,t).then((async e=>{const t=await e.json();console.log(t),this.$emit("update-cart",!1)})).catch((e=>{console.error(`Error adding course to cart: ${e}`)})).finally((()=>this.loading=!1))},fetchCartItems(){this.isCartComponent&&(this.cartIDs=this.carts.data.map((e=>e.course_id)))},getCartItem(e){return this.cartIDs.includes(e)}},mounted(){this.fetchCartItems()}};const ee=(0,g.A)(Z,[["render",K],["__scopeId","data-v-cfc4231a"]]);var te=ee,oe={name:"courseComp",data(){return{carts:[],images:[],courses:[],loading:!0,isCartComponent:!0}},components:{courseItem:te},methods:{async getCarts(e=!0){this.loading=e,fetch("https://api-bookshop-com.onrender.com/v1/carts").then((async e=>{const t=await e.json();this.carts=t,this.courses=t.data.map((({course:e})=>e))})).catch((e=>{console.error(`Error fetching courses: ${e}`)})).finally((()=>this.loading=!1))},removeFromCart(e){this.loading=!0,fetch(`https://api-bookshop-com.onrender.com/v1/courses/${e}`).then((e=>{const t=e.json();this.carts=t.data})).catch((e=>{console.error(`Error adding course to cart: ${e}`)})).finally((()=>this.loading=!1))},async loadImages(){for(let t=1;t<=21;t++)try{let e;t<=5&&(e=await o(6325)(`./image-${t}.webp`)),t>=6&&(e=await o(9588)(`./image-${t}.jpg`)),t>21&&(e=await o.e(153).then(o.t.bind(o,3153,17))),this.images.push(e.default)}catch(e){console.error(`Error loading image-${t}.webp:`,e)}}},async mounted(){await this.getCarts(),await this.loadImages()}};const re=(0,g.A)(oe,[["render",x]]);var ne=re;const ae={class:"course__listing"},se={class:"not-found"},ie={key:0,class:"course__wrap"},ce={key:1,class:"not-found"};function le(e,t,o,a,s,i){const c=(0,n.g2)("courseItem");return(0,n.uX)(),(0,n.CE)("div",ae,[(0,n.bo)((0,n.Lk)("div",se,"loading...",512),[[r.aG,s.loading]]),!s.loading&&s.allCourses?.length?((0,n.uX)(),(0,n.CE)("div",ie,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.allCourses,((e,t)=>((0,n.uX)(),(0,n.Wv)(c,{key:e._id,data:e,path:s.images[t],cartComponent:s.isCartComponent,onUpdateCourse:i.getCourses},null,8,["data","path","cartComponent","onUpdateCourse"])))),128))])):s.loading?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",ce,"Your Courses are empty"))])}var ue={name:"courseComp",data(){return{images:[],loading:!0,allCourses:[],isCartComponent:!1}},props:{updatedCourse:Array},watch:{updatedCourse:{immediate:!0,handler(e){this.allCourses=e||[]}}},components:{courseItem:te},methods:{async loadImages(){for(let t=1;t<=21;t++)try{let e;t<=5&&(e=await o(6325)(`./image-${t}.webp`)),t>5&&(e=await o(9588)(`./image-${t}.jpg`)),t>21&&(e=await o.e(153).then(o.t.bind(o,3153,17))),this.images.push(e.default)}catch(e){console.error(`Error loading image-${t}.webp:`,e)}},getCourses(e=!0){this.loading=e,fetch("https://api-bookshop-com.onrender.com/v1/courses").then((async e=>{const t=await e.json();this.allCourses=t.data})).catch((e=>{console.error(`Error fetching courses: ${e}`)})).finally((()=>this.loading=!1))},sortCourses({loading:e=!1,sort:t,order:o="asc"}={}){this.loading=e,fetch(`https://api-bookshop-com.onrender.com/v1/courses?sort=${t}&order=${o}`).then((async e=>{const t=await e.json();this.allCourses=t.data})).catch((e=>{console.error(`Error fetching courses: ${e}`)})).finally((()=>this.loading=!1))}},async mounted(){this.getCourses(),await this.loadImages()}};const de=(0,g.A)(ue,[["render",le]]);var pe=de,me={name:"App",data(){return{currentView:"home",updatedCourses:void 0}},components:{filterItem:v,navbarComp:F,cartComp:ne,bannerComp:I,courseComp:pe},methods:{sortCourses({loading:e=!1,sort:t,order:o="asc"}={}){this.loading=e,fetch(`https://api-bookshop-com.onrender.com/v1/courses?sort=${t}&order=${o}`).then((async e=>{const t=await e.json();this.updatedCourses=t.data})).catch((e=>{console.error(`Error fetching courses: ${e}`)})).finally((()=>this.loading=!1))},changeView(e){this.currentView=e},updateCourses(e){this.updatedCourses=e}}};const fe=(0,g.A)(me,[["render",l]]);var ge=fe;(0,r.Ef)(ge).mount("#app")},9588:function(e,t,o){var r={"./image-10.jpg":[7172,172],"./image-11.jpg":[8977,977],"./image-12.jpg":[6774,774],"./image-13.jpg":[6883,883],"./image-14.jpg":[8080,80],"./image-15.jpg":[2973,973],"./image-16.jpg":[3746,746],"./image-17.jpg":[5455,455],"./image-18.jpg":[7708,708],"./image-19.jpg":[8233,233],"./image-20.jpg":[9365,365],"./image-21.jpg":[5400,400],"./image-6.jpg":[5445,445],"./image-7.jpg":[7576,576],"./image-8.jpg":[2035,35],"./image-9.jpg":[2550,550]};function n(e){if(!o.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return o.e(t[1]).then((function(){return o.t(n,17)}))}n.keys=function(){return Object.keys(r)},n.id=9588,e.exports=n},6325:function(e,t,o){var r={"./image-1.webp":[5960,579],"./image-2.webp":[3130,130],"./image-3.webp":[7157,157],"./image-4.webp":[6948,948],"./image-5.webp":[1655,655]};function n(e){if(!o.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return o.e(t[1]).then((function(){return o.t(n,17)}))}n.keys=function(){return Object.keys(r)},n.id=6325,e.exports=n}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,a){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||s>=a)&&Object.keys(o.O).every((function(e){return o.O[e](r[c])}))?r.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);o.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){s[e]=function(){return r[e]}}));return s["default"]=function(){return r},o.d(a,s),a}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{35:"29b7262f",80:"ef2724dc",130:"ba6a7e82",153:"2bbad784",157:"25d7a5ba",172:"e7347cdd",233:"a2c2a1df",365:"49256e96",400:"c401dc59",445:"487ef050",455:"1c8b305e",550:"f9a8f2a6",576:"3cb836b2",579:"f330d3e7",655:"dd17190e",708:"07150cf5",746:"706f8612",774:"450fa0ec",883:"3b21c25c",948:"39568f91",973:"5577ef17",977:"fb799585"}[e]+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="bookshop.com:";o.l=function(r,n,a,s){if(e[r])e[r].push(n);else{var i,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[n];var p=function(t,o){i.onerror=i.onload=null,clearTimeout(m);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/bookshop.com/"}(),function(){var e={524:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((function(o,r){n=e[t]=[o,r]}));r.push(n[2]=a);var s=o.p+o.u(t),i=new Error,c=function(r){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,n[1](i)}};o.l(s,c,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,s=r[0],i=r[1],c=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(c)var u=c(o)}for(t&&t(r);l<s.length;l++)a=s[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self["webpackChunkbookshop_com"]=self["webpackChunkbookshop_com"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(2304)}));r=o.O(r)})();
//# sourceMappingURL=app.36f8abf2.js.map